<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>    
    <meta charset="UTF-8">
    <title th:text="${title}"></title>
    <link rel="stylesheet" th:href="@{/css/styles.css(v=${version})}" />
    <script th:src="@{/js/vehiculos.js(v=${version})}" defer></script>
</head>
<body>
    <div th:replace="~{fragments/header}"></div>
    <main class="content">
        <h1 th:text="${title}"></h1>
        <p th:text="${description}"></p>
        <button class="createButton">Añadir Nuevo Vehículo</button>
        <!-- Tabla de vehículos -->
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Color</th>
                    <th>Marca</th>
                    <th>Matricula</th>
                    <th>Puertas</th>
                    <th>Autonomía (km)</th>
                    <th>Potencia (cv)</th>
                    <th>precio_dia</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="vehiculosTable">
            <tr th:each="vehiculo: ${vehiculos}">
                <td th:text="${vehiculo.id}"></td>
                <td th:text="${vehiculo.color}"></td>
                <td th:text="${vehiculo.marca}"></td>
                <td th:text="${vehiculo.matricula}"></td>
                <td th:text="${vehiculo.puertas}"></td>
                <td th:text="${vehiculo. autonomia_km}"></td>
                <td th:text="${vehiculo.potencia_cv}"></td>
                <td th:text="${vehiculo.precio_dia}"></td> 
                <td>
                    <button class="editButton" id="vehiculoModal" onclick="cargarVehiculos()">Editar</button>                     
                </td>
            </tr>
            </tbody>
        </table>
    </main>
    <!-- DialogVehiculo -->
    <dialog id="vehiculoModal">
        <span class="closeButtonModal close">&times;</span>
        <h2 id="modalTitle">Agregar / Actualizar Vehículo</h2>
        <form id="vehiculoForm">
            <input type="hidden" id="diVehiculoId" />
            <label>Color: <input type="text" id="diColor" required /></label><br>
            <label>Marca: <input type="text" id="diMarca" required /></label><br>
            <label>Puertas: <input type="number" id="diPuertas" required /></label><br>
            <label>Autonomía (km): <input type="number" id="diAutonomia_km" required /></label><br>
            <label>Potencia (cv): <input type="number" id="diPotencia_cv" required /></label><br>
            <label>Precio_dia: <input type="number" id="diPrecio_dia" required /></label><br>
            <button type="submit">Crear / Actualizar</button>
            <button class="closeButtonModal">Cerrar</button>
        </form>
    </dialog>

    <div th:replace="~{fragments/footer}"></div>
   
</body>
</html>